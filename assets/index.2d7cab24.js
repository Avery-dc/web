var U=Object.defineProperty;var v=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var g=(e,t,s)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,h=(e,t)=>{for(var s in t||(t={}))O.call(t,s)&&g(e,s,t[s]);if(v)for(var s of v(t))w.call(t,s)&&g(e,s,t[s]);return e};var p=(e,t,s)=>(g(e,typeof t!="symbol"?t+"":t,s),s);import{a as k,c as R,d as E,m as H,b as N,r as $,e as B,o as u,f as d,g as a,t as G,p as C,h as q,i as T,F as x,j as D,k as F,l as M,n as P}from"./vendor.65eab26b.js";const j=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}};j();function z(e,t=!0){let s=localStorage.getItem(e)||"{}";return t?JSON.parse(s):s}var f;(function(e){e.GET_AUTHENTICATION="isAuthenticated"})(f||(f={}));const V={[f.GET_AUTHENTICATION]:e=>e.login};class W{constructor(t,s=!0){p(this,"token");p(this,"Authorization");p(this,"BaseRequest");this.user=s,this.BaseRequest=this.initRequest(),this.init(t,s)}init(t,s=!0){this.token=t||localStorage.getItem("token")||sessionStorage.getItem("token")||"",this.Authorization=`${s?"Bearer":"Bot"} ${t}`,this.BaseRequest=this.initRequest()}initRequest(){return k.create({baseURL:"https://discord.com/api/v9",method:"GET",headers:h({},this.headers)})}async getToken(t){let{data:s}=await k({url:"http://localhost:3001/services/discord-callback",method:"POST",data:{code:t,redirect_uri:"http://localhost:3000/discord-callback"}});return s.access_token?(this.token=s.access_token,s.access_token):s}getMe(){return this.BaseRequest({url:"/users/@me"})}getGuilds(){return this.BaseRequest({url:"/users/@me/guilds"})}getGuildChannel(t){return this.BaseRequest({url:`/guilds/${t}/channels`})}getGuildMembers(t){return this.BaseRequest({url:`/guilds/${t}/members`})}getGuildRoles(t){return this.BaseRequest({url:`/guilds/${t}/roles`})}get headers(){return{Authorization:this.Authorization||""}}}var l;(function(e){e.SET_AUTH_STATUS="SET_AUTH_STATUS",e.SET_AUTH_DATA="SET_AUTH_DATA"})(l||(l={}));const J={[l.SET_AUTH_STATUS]:(e,t)=>e.login=t===void 0?!e.login:t,[l.SET_AUTH_DATA]:(e,t)=>e.userInfo=t},A=new W;var c;(function(e){e.LOGIN="loginCode",e.GET_INFO="getMe"})(c||(c={}));c.GET_INFO+"",c.LOGIN+"";const K={login:!1,userInfo:{}},Q={namespaced:!0,mutations:J,getters:V,state:K};var _;(function(e){e.AUTH="auth"})(_||(_={}));const X=R({modules:{[_.AUTH]:Q}});var Y="/web/assets/LogoLong.298e9c85.png";var y=(e,t)=>{const s=e.__vccOpts||e;for(const[r,o]of t)s[r]=o;return s};const Z=E({computed:h({},H(_.AUTH,{isAuthenticated:f.GET_AUTHENTICATION})),methods:h({},N(_.AUTH,[c.LOGIN,c.GET_INFO])),mounted(){let e=z("token");(e==null?void 0:e.access_token)&&this.getMe(e.access_token),addEventListener("get_dc_code",async t=>{var r;let s=t;((r=s==null?void 0:s.detail)==null?void 0:r.code)&&console.log(this.getMe(s.detail.code))})},setup(){const e=$(null),t=B({});return{login:()=>window.open("https://discord.com/api/oauth2/authorize?client_id=863676847731376170&redirect_uri=http://localhost:3000/discord-callback&response_type=code&scope=identify+guilds+email","","width=500,height=620"),userEl:e,dc_data:t,BASE_URL:"/web/",openLicks:()=>e.value.classList.toggle("down")}}}),m=e=>(C("data-v-714797b6"),e=e(),q(),e),ee={class:"flex flex-item-center"},te=["href"],se=m(()=>a("img",{src:Y,alt:""},null,-1)),oe=m(()=>a("p",null,"Avery",-1)),re=[se,oe],ne={class:"menu"},ie={class:"ul flex flex-item-center"},ae={class:"user flex flex-item-center"},ce=["src"],le=["textContent"],ue=m(()=>a("i",{class:"arrow"},null,-1)),de=m(()=>a("div",{class:"licks"},null,-1));function _e(e,t,s,r,o,i){return u(),d("header",ee,[a("a",{href:e.BASE_URL,class:"logo flex flex-item-center"},re,8,te),a("div",ne,[a("div",ie,[a("div",ae,[Object.keys(e.dc_data).length>0?(u(),d("div",{key:0,class:"flex flex-item-center is-login",onClick:t[0]||(t[0]=(...n)=>e.openLicks&&e.openLicks(...n)),ref:"userEl"},[a("img",{src:`https://cdn.discordapp.com/avatars/${e.dc_data.id}/${e.dc_data.avatar}.png`,class:"user-icon",width:"45",alt:""},null,8,ce),a("span",{class:"user-name",textContent:G(e.dc_data.username)},null,8,le),ue,de],512)):(u(),d("div",{key:1,class:"login",onClick:t[1]||(t[1]=(...n)=>e.login&&e.login(...n))},"\u767B\u5165"))])])])])}var he=y(Z,[["render",_e],["__scopeId","data-v-714797b6"]]);const pe={};function fe(e,t){return u(),d("footer")}var me=y(pe,[["render",fe]]);const ge={class:"wrapper"},Te=E({setup(e){return(t,s)=>{const r=D("router-view");return u(),d(x,null,[T(he),a("div",ge,[T(r)]),T(me)],64)}}}),Ae="modulepreload",S={},ve="/web/",I=function(t,s){return!s||s.length===0?t():Promise.all(s.map(r=>{if(r=`${ve}${r}`,r in S)return;S[r]=!0;const o=r.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${i}`))return;const n=document.createElement("link");if(n.rel=o?"stylesheet":Ae,o||(n.as="script",n.crossOrigin=""),n.href=r,document.head.appendChild(n),o)return new Promise((L,b)=>{n.addEventListener("load",L),n.addEventListener("error",b)})})).then(()=>t())},ke=[{name:"Home",path:"/",component:()=>I(()=>import("./Home.447cd9d3.js"),["assets/Home.447cd9d3.js","assets/Home.2bd0fa25.css","assets/vendor.65eab26b.js"])},{name:"discordCallback",path:"/discord-callback",component:()=>I(()=>import("./discord.ff0baf89.js"),["assets/discord.ff0baf89.js","assets/vendor.65eab26b.js"])}],Ee=F({history:M("/web/"),routes:ke});P(Te).use(X).use(Ee).mount("#app");export{y as _,Y as a};
